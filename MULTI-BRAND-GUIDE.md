# üè∑Ô∏è –ú—É–ª—å—Ç–∏–±—Ä–µ–Ω–¥–æ–≤—ã–π —Å–∫—Ä–∞–ø–ø–µ—Ä –∫–∞—Ç–∞–ª–æ–≥–æ–≤

## –û–ø–∏—Å–∞–Ω–∏–µ

–°–∫—Ä–∞–ø–ø–µ—Ä –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–±–æ—Ä —Å—Å—ã–ª–æ–∫ –Ω–∞ –∫–∞—Ç–∞–ª–æ–≥–∏ —Å —Ä–∞–∑–Ω—ã—Ö —Å–∞–π—Ç–æ–≤/–±—Ä–µ–Ω–¥–æ–≤. –ö–∞–∂–¥–∞—è —Å—Å—ã–ª–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–º–µ—á–∞–µ—Ç—Å—è:
- **brand** - –Ω–∞–∑–≤–∞–Ω–∏–µ –±—Ä–µ–Ω–¥–∞ (adidas, nike, puma –∏ —Ç.–¥.)
- **isSale** - —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —ç—Ç–æ —Ä–∞—Å–ø—Ä–æ–¥–∞–∂–µ–π

## –¢–µ–∫—É—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î

```prisma
model CatalogLink {
  id        String   @id @default(uuid())
  url       String   @unique
  brand     String   @default("adidas")
  scrapped  Boolean  @default(false)
  isSale    Boolean  @default(false)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}
```

## –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –±—Ä–µ–Ω–¥

### –í–∞—Ä–∏–∞–Ω—Ç 1: –°–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—Ä–∏–º–µ—Ä –¥–ª—è Nike
cp src/index-nike-example.ts src/index-puma.ts

# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
# - TARGET_WEBSITE = 'https://www.puma.com'
# - BRAND_NAME = 'puma'

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∞–ø–ø–∏–Ω–≥
npx tsx src/index-puma.ts
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ò–∑–º–µ–Ω–∏—Ç—å –≥–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `src/index.ts`:

```typescript
const TARGET_WEBSITE = 'https://www.nike.com';
const BRAND_NAME = 'nike';
```

–ó–∞—Ç–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç–µ:

```bash
npm run scrape
```

## –ü—Ä–∏–º–µ—Ä—ã –∫–æ–º–∞–Ω–¥

```bash
# –°–∫—Ä–∞–ø–∏–Ω–≥ Adidas (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
npm run scrape

# –°–∫—Ä–∞–ø–∏–Ω–≥ Nike (–∏—Å–ø–æ–ª—å–∑—É—è –ø—Ä–∏–º–µ—Ä)
npx tsx src/index-nike-example.ts

# –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤ Prisma Studio
npm run prisma:studio
```

## –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –±—Ä–µ–Ω–¥–∞–º

–ü–æ—Å–ª–µ —Å–∫—Ä–∞–ø–ø–∏–Ω–≥–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –±—Ä–µ–Ω–¥–æ–≤, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±—É–¥–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ä–∞–∑–±–∏–≤–∫—É:

```
üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–∞—Ç–∞–ª–æ–≥–æ–≤:
   –í—Å–µ–≥–æ: 500
   üî• –†–∞—Å–ø—Ä–æ–¥–∞–∂: 45
   –°–æ–±—Ä–∞–Ω–æ: 0
   –û–∂–∏–¥–∞–µ—Ç: 500

üè∑Ô∏è  –ü–æ –±—Ä–µ–Ω–¥–∞–º:
   - adidas: 284
   - nike: 150
   - puma: 66
```

## –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –±—Ä–µ–Ω–¥—É –≤ –∫–æ–¥–µ

```typescript
// –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Å—Å—ã–ª–∫–∏ Nike
const nikeLinks = await prisma.catalogLink.findMany({
  where: { brand: 'nike' }
});

// –ü–æ–ª—É—á–∏—Ç—å —Ä–∞—Å–ø—Ä–æ–¥–∞–∂–∏ Adidas
const adidasSales = await prisma.catalogLink.findMany({
  where: { 
    brand: 'adidas',
    isSale: true 
  }
});

// –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –±—Ä–µ–Ω–¥—É
const nikeSalesCount = await prisma.catalogLink.count({
  where: { 
    brand: 'nike',
    isSale: true 
  }
});
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤ –¥–ª—è –Ω–æ–≤–æ–≥–æ –±—Ä–µ–Ω–¥–∞

–ï—Å–ª–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–∞–π—Ç–∞ –Ω–æ–≤–æ–≥–æ –±—Ä–µ–Ω–¥–∞ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è, –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–µ–ª–µ–∫—Ç–æ—Ä—ã –≤ `catalogScraper.ts`:

```typescript
// –í –º–µ—Ç–æ–¥–µ extractCatalogLinks():
if (
  href &&
  // –î–æ–±–∞–≤—å—Ç–µ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è –Ω–æ–≤–æ–≥–æ –±—Ä–µ–Ω–¥–∞
  (href.includes('/men-') ||
   href.includes('/women-') ||
   // ... –¥—Ä—É–≥–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
  )
) {
  // ...
}
```

## Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: –ë—Ä–µ–Ω–¥ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–µ—Ä–µ–¥–∞–µ—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –±—Ä–µ–Ω–¥–∞ –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä `CatalogScraper`

### –ü—Ä–æ–±–ª–µ–º–∞: –°—Å—ã–ª–∫–∏ –¥—É–±–ª–∏—Ä—É—é—Ç—Å—è –º–µ–∂–¥—É –±—Ä–µ–Ω–¥–∞–º–∏
**–†–µ—à–µ–Ω–∏–µ:** –ü–æ–ª–µ `url` –∏–º–µ–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ. –ï—Å–ª–∏ URL –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π, –∑–∞–ø–∏—Å—å –Ω–µ –±—É–¥–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å—Å—è.

### –ü—Ä–æ–±–ª–µ–º–∞: HTTP 403 –¥–ª—è –Ω–æ–≤–æ–≥–æ –±—Ä–µ–Ω–¥–∞
**–†–µ—à–µ–Ω–∏–µ:** –ü–ª–∞–≥–∏–Ω `stealth` –¥–æ–ª–∂–µ–Ω –ø–æ–º–æ—á—å, –Ω–æ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–∞–π—Ç—ã –º–æ–≥—É—Ç —Ç—Ä–µ–±–æ–≤–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ headers –∏–ª–∏ cookies.
