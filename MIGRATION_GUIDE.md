# ðŸ”„ ÐœÐ¸Ð³Ñ€Ð°Ñ†Ð¸Ñ Ñ SQLite Ð½Ð° PostgreSQL

Ð’Ð°Ñˆ Ð¿Ñ€Ð¾ÐµÐºÑ‚ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐ½ Ð´Ð»Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ Ñ PostgreSQL!

## âœ… Ð§Ñ‚Ð¾ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ð»Ð¾ÑÑŒ

- âœ… `prisma/schema.prisma` - Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½ Ð½Ð° PostgreSQL
- âœ… Ð”Ð¾Ð±Ð°Ð²Ð»ÐµÐ½ `docker-compose.yml` Ð´Ð»Ñ Ð·Ð°Ð¿ÑƒÑÐºÐ° PostgreSQL
- âœ… Ð”Ð¾Ð±Ð°Ð²Ð»ÐµÐ½ ÑÐºÑ€Ð¸Ð¿Ñ‚ `setup-db.sh` Ð´Ð»Ñ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ð¹ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸
- âœ… ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ñ‹ npm ÑÐºÑ€Ð¸Ð¿Ñ‚Ñ‹ Ð² `package.json`

## ðŸš€ Ð§Ñ‚Ð¾ Ð½ÑƒÐ¶Ð½Ð¾ ÑÐ´ÐµÐ»Ð°Ñ‚ÑŒ

### Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚ 1: ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° (Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÑ‚ÑÑ)

Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ ÑÐºÑ€Ð¸Ð¿Ñ‚ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ¸:

```bash
./setup-db.sh
```

Ð¡ÐºÑ€Ð¸Ð¿Ñ‚ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸:
- Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ PostgreSQL Ð² Docker
- Ð¡Ð¾Ð·Ð´Ð°ÑÑ‚ .env Ñ„Ð°Ð¹Ð» Ñ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ‹Ð¼Ð¸ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ°Ð¼Ð¸
- Ð£Ð´Ð°Ð»Ð¸Ñ‚ ÑÑ‚Ð°Ñ€Ñ‹Ðµ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¸ SQLite
- Ð¡Ð¾Ð·Ð´Ð°ÑÑ‚ Ð½Ð¾Ð²Ñ‹Ðµ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¸ Ð´Ð»Ñ PostgreSQL
- Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ Ñ‚ÐµÑÑ‚Ñ‹

### Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚ 2: Docker Ð²Ñ€ÑƒÑ‡Ð½ÑƒÑŽ

```bash
# 1. Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ PostgreSQL
docker-compose up -d

# 2. Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ .env Ñ„Ð°Ð¹Ð»
cat > .env << 'EOF'
DATABASE_URL="postgresql://scrapper:password@localhost:5432/scrapper_db"
TARGET_WEBSITE="https://example.com"
EOF

# 3. Ð£Ð´Ð°Ð»Ð¸Ñ‚Ðµ ÑÑ‚Ð°Ñ€Ñ‹Ðµ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¸
rm -rf prisma/migrations

# 4. Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ Ð½Ð¾Ð²Ñ‹Ðµ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¸
npx prisma migrate dev --name init

# 5. Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ Ñ‚ÐµÑÑ‚
npm test
```

### Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚ 3: Ð›Ð¾ÐºÐ°Ð»ÑŒÐ½Ñ‹Ð¹ PostgreSQL

Ð•ÑÐ»Ð¸ Ñƒ Ð²Ð°Ñ ÑƒÐ¶Ðµ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½ PostgreSQL:

```bash
# 1. Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ Ð±Ð°Ð·Ñƒ Ð´Ð°Ð½Ð½Ñ‹Ñ…
psql postgres
CREATE USER scrapper WITH PASSWORD 'your_password';
CREATE DATABASE scrapper_db OWNER scrapper;
GRANT ALL PRIVILEGES ON DATABASE scrapper_db TO scrapper;
\q

# 2. ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚Ðµ .env
DATABASE_URL="postgresql://scrapper:your_password@localhost:5432/scrapper_db"

# 3. ÐŸÑ€Ð¸Ð¼ÐµÐ½Ð¸Ñ‚Ðµ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¸
rm -rf prisma/migrations
npx prisma migrate dev --name init

# 4. Ð¢ÐµÑÑ‚
npm test
```

### Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚ 4: ÐžÐ±Ð»Ð°Ñ‡Ð½Ñ‹Ð¹ PostgreSQL

Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ Ð¾Ð´Ð¸Ð½ Ð¸Ð· ÑÐµÑ€Ð²Ð¸ÑÐ¾Ð²:
- [Supabase](https://supabase.com/) - 500MB Ð±ÐµÑÐ¿Ð»Ð°Ñ‚Ð½Ð¾
- [Render](https://render.com/) - Free tier
- [Railway](https://railway.app/) - $5 ÐºÑ€ÐµÐ´Ð¸Ñ‚Ð°
- [Neon](https://neon.tech/) - 3GB Ð±ÐµÑÐ¿Ð»Ð°Ñ‚Ð½Ð¾

ÐŸÐ¾ÑÐ»Ðµ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ Ð‘Ð”:

```bash
# 1. Ð¡ÐºÐ¾Ð¿Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Connection String Ð¸Ð· Ð¿Ð°Ð½ÐµÐ»Ð¸ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ

# 2. Ð”Ð¾Ð±Ð°Ð²ÑŒÑ‚Ðµ Ð² .env
DATABASE_URL="postgresql://user:pass@host.com:5432/db?sslmode=require"

# 3. ÐŸÑ€Ð¸Ð¼ÐµÐ½Ð¸Ñ‚Ðµ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¸
rm -rf prisma/migrations
npx prisma migrate dev --name init
```

## ðŸ“Š ÐÐ¾Ð²Ñ‹Ðµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹

```bash
# Ð‘Ð°Ð·Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ…
npm run db:setup    # ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ°
npm run db:start    # Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ PostgreSQL (Docker)
npm run db:stop     # ÐžÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ PostgreSQL (Docker)
npm run db:logs     # ÐŸÐ¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ Ð»Ð¾Ð³Ð¸ PostgreSQL

# Prisma
npm run prisma:studio   # GUI Ð´Ð»Ñ Ð±Ð°Ð·Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ…
npm run prisma:generate # Ð¡Ð³ÐµÐ½ÐµÑ€Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÐºÐ»Ð¸ÐµÐ½Ñ‚
npm run prisma:migrate  # Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸ÑŽ
npm run prisma:reset    # Ð¡Ð±Ñ€Ð¾ÑÐ¸Ñ‚ÑŒ Ð‘Ð”

# Ð¡ÐºÑ€Ð°Ð¿Ð¿ÐµÑ€
npm run scrape      # Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ ÑÐºÑ€Ð°Ð¿Ð¿ÐµÑ€
npm test            # Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ Ñ‚ÐµÑÑ‚Ñ‹
npm run dev         # Ð ÐµÐ¶Ð¸Ð¼ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸ (watch mode)
```

## âœ… ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹

ÐŸÐ¾ÑÐ»Ðµ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ Ñ‚ÐµÑÑ‚:

```bash
npm test
```

Ð’Ñ‹ Ð´Ð¾Ð»Ð¶Ð½Ñ‹ ÑƒÐ²Ð¸Ð´ÐµÑ‚ÑŒ:

```
ðŸ§ª Ð¢Ð•Ð¡Ð¢ 1: ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ Ðº Ð‘Ð”
âœ… ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ Ðº Ð±Ð°Ð·Ðµ Ð´Ð°Ð½Ð½Ñ‹Ñ… ÑƒÑÐ¿ÐµÑˆÐ½Ð¾

ðŸ§ª Ð¢Ð•Ð¡Ð¢ 2: Ð”Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ñ‚ÐµÑÑ‚Ð¾Ð²Ñ‹Ñ… ÐºÐ°Ñ‚Ð°Ð»Ð¾Ð³Ð¾Ð²
âœ… Ð”Ð¾Ð±Ð°Ð²Ð»ÐµÐ½/Ð½Ð°Ð¹Ð´ÐµÐ½: https://example.com/catalog/electronics
...

âœ… Ð’Ð¡Ð• Ð¢Ð•Ð¡Ð¢Ð« ÐŸÐ ÐžÐ™Ð”Ð•ÐÐ« Ð£Ð¡ÐŸÐ•Ð¨ÐÐž!
```

## ðŸŽ¯ Ð“Ð¾Ñ‚Ð¾Ð²Ð¾!

Ð¢ÐµÐ¿ÐµÑ€ÑŒ Ð²Ð°Ñˆ Ð¿Ñ€Ð¾ÐµÐºÑ‚ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ PostgreSQL. ÐŸÑ€ÐµÐ¸Ð¼ÑƒÑ‰ÐµÑÑ‚Ð²Ð°:

âœ… Ð›ÑƒÑ‡ÑˆÐ°Ñ Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ  
âœ… ÐŸÐ¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ° ÐºÐ¾Ð½ÐºÑƒÑ€ÐµÐ½Ñ‚Ð½Ñ‹Ñ… Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð²  
âœ… ÐŸÑ€Ð¾Ð´Ð²Ð¸Ð½ÑƒÑ‚Ñ‹Ðµ Ñ‚Ð¸Ð¿Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ… (JSON, Ð¼Ð°ÑÑÐ¸Ð²Ñ‹)  
âœ… Ð“Ð¾Ñ‚Ð¾Ð²Ð¾ Ð´Ð»Ñ Ð¿Ñ€Ð¾Ð´Ð°ÐºÑˆÐµÐ½Ð°  
âœ… Ð›ÐµÐ³ÐºÐ¾ Ð¼Ð°ÑÑˆÑ‚Ð°Ð±Ð¸Ñ€ÑƒÐµÑ‚ÑÑ  

## ðŸ“š Ð”Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð°Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ

- [SETUP_POSTGRESQL.md](SETUP_POSTGRESQL.md) - ÐŸÐ¾Ð´Ñ€Ð¾Ð±Ð½Ð°Ñ Ð¸Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ñ
- [README.md](README.md) - ÐžÑÐ½Ð¾Ð²Ð½Ð°Ñ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ
- [QUICK_START.md](QUICK_START.md) - Ð‘Ñ‹ÑÑ‚Ñ€Ñ‹Ð¹ ÑÑ‚Ð°Ñ€Ñ‚

## â“ ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹?

Ð¡Ð¼Ð¾Ñ‚Ñ€Ð¸Ñ‚Ðµ Ñ€Ð°Ð·Ð´ÐµÐ» "ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹ Ð¸ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ" Ð² [SETUP_POSTGRESQL.md](SETUP_POSTGRESQL.md)

