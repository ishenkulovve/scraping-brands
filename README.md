# –°–∫—Ä–∞–ø–ø–µ—Ä –¥–ª—è —Å–±–æ—Ä–∞ –∫–∞—Ç–∞–ª–æ–≥–æ–≤

–ü—Ä–æ–µ–∫—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–±–æ—Ä–∞ —Å—Å—ã–ª–æ–∫ –Ω–∞ –∫–∞—Ç–∞–ª–æ–≥–∏ —Å –≤–µ–±-—Å–∞–π—Ç–æ–≤ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏—Ö –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
npm install
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö PostgreSQL

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):**
```bash
./setup-db.sh
```

**–ò–ª–∏ –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ Docker:**
```bash
docker-compose up -d
```

**–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:** –°–º. [SETUP_POSTGRESQL.md](SETUP_POSTGRESQL.md)

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥ –≤–∞—à —Å–∞–π—Ç

–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `src/scrapers/catalogScraper.ts` –∏ –∏–∑–º–µ–Ω–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `extractCatalogLinks()`:

```typescript
private extractCatalogLinks(html: string): string[] {
  const $ = cheerio.load(html);
  const links: string[] = [];

  // –ò–ó–ú–ï–ù–ò–¢–ï –≠–¢–û–¢ –°–ï–õ–ï–ö–¢–û–† –ø–æ–¥ –≤–∞—à —Å–∞–π—Ç!
  $('a.catalog-link').each((_, element) => {
    const href = $(element).attr('href');
    // ...
  });

  return links;
}
```

### 4. –£–∫–∞–∂–∏—Ç–µ URL —Å–∞–π—Ç–∞

–û—Ç–∫—Ä–æ–π—Ç–µ `src/index.ts` –∏ –∑–∞–º–µ–Ω–∏—Ç–µ URL:

```typescript
const TARGET_WEBSITE = 'https://example.com'; // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à —Å–∞–π—Ç
```

### 5. –ó–∞–ø—É—Å–∫ —Å–∫—Ä–∞–ø–ø–µ—Ä–∞

```bash
npm run scrape
```

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü–∞: CatalogLink

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| id | String (UUID) | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä |
| url | String (unique) | –°—Å—ã–ª–∫–∞ –Ω–∞ –∫–∞—Ç–∞–ª–æ–≥ |
| scrapped | Boolean | –°—Ç–∞—Ç—É—Å —Å–±–æ—Ä–∞ (false –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) |
| createdAt | DateTime | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è |
| updatedAt | DateTime | –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è |

## üõ† –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∞–ø–ø–µ—Ä
npm run scrape

# –ö–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å TypeScript
npm run build

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥
npm start
```

## üìù –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–°–±–æ—Ä —Å—Å—ã–ª–æ–∫**: –°–∫—Ä–∞–ø–ø–µ—Ä –∑–∞–≥—Ä—É–∂–∞–µ—Ç –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å–∞–π—Ç–∞ –∏ –∏–∑–≤–ª–µ–∫–∞–µ—Ç –≤—Å–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –∫–∞—Ç–∞–ª–æ–≥–∏
2. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î**: –ù–∞–π–¥–µ–Ω–Ω—ã–µ —Å—Å—ã–ª–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ SQLite —Å —Ñ–ª–∞–≥–æ–º `scrapped: false`
3. **–ò–∑–±–µ–∂–∞–Ω–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤**: –ï—Å–ª–∏ —Å—Å—ã–ª–∫–∞ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –ë–î, –æ–Ω–∞ –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è
4. **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞**: –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Å–æ–±—Ä–∞–Ω–Ω—ã–º —Å—Å—ã–ª–∫–∞–º

## üîß –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤

–û—Ç–∫—Ä–æ–π—Ç–µ `src/scrapers/catalogScraper.ts` –∏ –Ω–∞–π–¥–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `extractCatalogLinks()`. –ò–∑–º–µ–Ω–∏—Ç–µ jQuery —Å–µ–ª–µ–∫—Ç–æ—Ä –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å HTML —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –≤–∞—à–µ–≥–æ —Å–∞–π—Ç–∞.

–ü—Ä–∏–º–µ—Ä—ã —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤:

```typescript
// –ü–æ –∫–ª–∞—Å—Å—É
$('a.category-link')

// –ü–æ –∞—Ç—Ä–∏–±—É—Ç—É
$('a[data-type="catalog"]')

// –ü–æ –ø—É—Ç–∏ –≤ URL
$('a[href*="/catalog/"]')

// –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π
$('.menu a[href*="/category/"]')
```

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–ß—Ç–æ–±—ã –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è —Å SQLite –Ω–∞ PostgreSQL –∏–ª–∏ MySQL:

1. –ò–∑–º–µ–Ω–∏—Ç–µ –≤ `prisma/schema.prisma`:
```prisma
datasource db {
  provider = "postgresql"  // –∏–ª–∏ "mysql"
  url      = env("DATABASE_URL")
}
```

2. –û–±–Ω–æ–≤–∏—Ç–µ `.env` —Å –Ω–æ–≤—ã–º connection string
3. –ü–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é:
```bash
rm -rf prisma/migrations
npx prisma migrate dev --name init
```

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ —Å–±–æ—Ä–∞ —Å—Å—ã–ª–æ–∫ –Ω–∞ –∫–∞—Ç–∞–ª–æ–≥–∏:
1. –°–æ–∑–¥–∞–π—Ç–µ —Å–∫—Ä–∞–ø–ø–µ—Ä –¥–ª—è —Å–±–æ—Ä–∞ —Å—Å—ã–ª–æ–∫ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç—ã –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–æ–≤
2. –°–æ–∑–¥–∞–π—Ç–µ —Å–∫—Ä–∞–ø–ø–µ—Ä –¥–ª—è —Å–±–æ—Ä–∞ –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø—Ä–æ–¥—É–∫—Ç–∞—Ö
3. –î–æ–±–∞–≤—å—Ç–µ API –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–æ–±—Ä–∞–Ω–Ω—ã–º –¥–∞–Ω–Ω—ã–º

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–∫—Ä–∞–ø–ø–∏–Ω–≥ –Ω–µ –Ω–∞—Ä—É—à–∞–µ—Ç –ø—Ä–∞–≤–∏–ª–∞ —Å–∞–π—Ç–∞ (robots.txt, Terms of Service)
- –î–æ–±–∞–≤—å—Ç–µ –∑–∞–¥–µ—Ä–∂–∫–∏ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏, —á—Ç–æ–±—ã –Ω–µ –ø–µ—Ä–µ–≥—Ä—É–∂–∞—Ç—å —Å–µ—Ä–≤–µ—Ä
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π User-Agent
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –æ—à–∏–±–∫–∏ –∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏

